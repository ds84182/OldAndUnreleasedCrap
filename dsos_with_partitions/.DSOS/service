local args = {...}
local task = args[1]
local services = {}
local service = {}

function service.register(servname,servfunc)
	local s = {api=servfunc,cfg={servfunc.save,servfunc.load},run=servfunc.run}
	s.api.save = nil
	s.api.load = nil
	s.api.run = nil
	services[servname] = s
	task.add(getfenv(),s.run,servname.." Service")
end

function service.saveAll()

end

function service.loadAll()

end

function service.get(servname)
	return services[servname].api
end

return service